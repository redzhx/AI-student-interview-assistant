{"ast":null,"code":"var _jsxFileName = \"/Users/zxh/0.Me/Mylearn/AIcoding/mywork/interview-assistant-react_stroop/frontend/src/components/AnswerSection.jsx\",\n  _s = $RefreshSig$();\n// AnswerSection.jsx\n// import 'bootstrap/dist/css/bootstrap.min.css'; // 引入Bootstrap CSS文件\n\nimport React, { useState, useEffect } from 'react';\nimport AudioRecorder from './AudioRecorder';\nimport TextInput from './TextInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AnswerSection({\n  onAnswerSubmit\n}) {\n  _s();\n  // const [answer, setAnswer] = useState('');\n  const [transcript, setTranscript] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [showTextInput, setShowTextInput] = useState(false);\n  const handleAudioTranscriptReady = text => {\n    // console.log(\"Transcript: \", text);\n    // onAnswerSubmit(text);  // 提交答案进行评价\n    setTranscript(text); // 存储转写文本\n    setIsRecording(false); // 停止录音\n    onAnswerSubmit(text); // 直接生成评价\n  };\n  const handleTextInputSubmit = text => {\n    // setAnswer(text);\n    setShowTextInput(false); // 关闭文本输入\n    onAnswerSubmit(text); // 直接生成评价\n\n    // useEffect(() => {\n    //   // 当 reset 函数变化时，重置组件状态\n    //   setIsRecording(false);\n    //   setShowTextInput(false);\n    // }, [reset]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [!isRecording && !showTextInput && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        variant: \"w\",\n        className: \"primary\",\n        onClick: () => setIsRecording(true),\n        children: [\"\\u56DE\\u7B54\", /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fa-solid fa-microphone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 88\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowTextInput(true),\n        children: \"\\u6587\\u672C\\u56DE\\u7B54\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true), isRecording && /*#__PURE__*/_jsxDEV(AudioRecorder, {\n      onTranscriptReady: handleAudioTranscriptReady\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), showTextInput && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(TextInput, {\n        onTextSubmit: onAnswerSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), transcript && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\" \", transcript]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(AnswerSection, \"Ho0Akp42u6A1zbtsoAtnA1PgliY=\");\n_c = AnswerSection;\nexport default AnswerSection;\nvar _c;\n$RefreshReg$(_c, \"AnswerSection\");","map":{"version":3,"names":["React","useState","useEffect","AudioRecorder","TextInput","jsxDEV","_jsxDEV","Fragment","_Fragment","AnswerSection","onAnswerSubmit","_s","transcript","setTranscript","isRecording","setIsRecording","showTextInput","setShowTextInput","handleAudioTranscriptReady","text","handleTextInputSubmit","className","children","variant","onClick","class","fileName","_jsxFileName","lineNumber","columnNumber","onTranscriptReady","onTextSubmit","_c","$RefreshReg$"],"sources":["/Users/zxh/0.Me/Mylearn/AIcoding/mywork/interview-assistant-react_stroop/frontend/src/components/AnswerSection.jsx"],"sourcesContent":["// AnswerSection.jsx\n// import 'bootstrap/dist/css/bootstrap.min.css'; // 引入Bootstrap CSS文件\n\nimport React, { useState, useEffect } from 'react';\nimport AudioRecorder from './AudioRecorder';\nimport TextInput from './TextInput';\n\nfunction AnswerSection({ onAnswerSubmit }) {\n  // const [answer, setAnswer] = useState('');\n  const [transcript, setTranscript] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [showTextInput, setShowTextInput] = useState(false);\n\n  const handleAudioTranscriptReady = (text) => {\n    // console.log(\"Transcript: \", text);\n    // onAnswerSubmit(text);  // 提交答案进行评价\n    setTranscript(text); // 存储转写文本\n    setIsRecording(false); // 停止录音\n    onAnswerSubmit(text); // 直接生成评价\n    };\n\n  const handleTextInputSubmit = (text) => {\n    // setAnswer(text);\n    setShowTextInput(false); // 关闭文本输入\n    onAnswerSubmit(text); // 直接生成评价\n\n  \n    // useEffect(() => {\n    //   // 当 reset 函数变化时，重置组件状态\n    //   setIsRecording(false);\n    //   setShowTextInput(false);\n    // }, [reset]);\n\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      {!isRecording && !showTextInput && (\n        <>\n        <button variant=\"w\" className=\"primary\" onClick={() => setIsRecording(true)}>回答<i class=\"fa-solid fa-microphone\"></i></button>\n        <button onClick={() => setShowTextInput(true)}>文本回答</button>\n        </>        \n      )}\n\n      {isRecording && (\n        <AudioRecorder onTranscriptReady={handleAudioTranscriptReady} />\n      )}\n\n      {showTextInput && (\n        <div>\n          <TextInput onTextSubmit={onAnswerSubmit} />\n        </div>\n      )}\n      {transcript && <p > {transcript}</p>}\n\n    </div>\n  );\n}\n\nexport default AnswerSection;\n"],"mappings":";;AAAA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,SAAS,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpC,SAASC,aAAaA,CAAC;EAAEC;AAAe,CAAC,EAAE;EAAAC,EAAA;EACzC;EACA,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAEzD,MAAMiB,0BAA0B,GAAIC,IAAI,IAAK;IAC3C;IACA;IACAN,aAAa,CAACM,IAAI,CAAC,CAAC,CAAC;IACrBJ,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;IACvBL,cAAc,CAACS,IAAI,CAAC,CAAC,CAAC;EACtB,CAAC;EAEH,MAAMC,qBAAqB,GAAID,IAAI,IAAK;IACtC;IACAF,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;IACzBP,cAAc,CAACS,IAAI,CAAC,CAAC,CAAC;;IAGtB;IACA;IACA;IACA;IACA;EAEF,CAAC;EAED,oBACEb,OAAA;IAAKe,SAAS,EAAC,gBAAgB;IAAAC,QAAA,GAC5B,CAACR,WAAW,IAAI,CAACE,aAAa,iBAC7BV,OAAA,CAAAE,SAAA;MAAAc,QAAA,gBACAhB,OAAA;QAAQiB,OAAO,EAAC,GAAG;QAACF,SAAS,EAAC,SAAS;QAACG,OAAO,EAAEA,CAAA,KAAMT,cAAc,CAAC,IAAI,CAAE;QAAAO,QAAA,GAAC,cAAE,eAAAhB,OAAA;UAAGmB,KAAK,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC9HvB,OAAA;QAAQkB,OAAO,EAAEA,CAAA,KAAMP,gBAAgB,CAAC,IAAI,CAAE;QAAAK,QAAA,EAAC;MAAI;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eAC1D,CACH,EAEAf,WAAW,iBACVR,OAAA,CAACH,aAAa;MAAC2B,iBAAiB,EAAEZ;IAA2B;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAChE,EAEAb,aAAa,iBACZV,OAAA;MAAAgB,QAAA,eACEhB,OAAA,CAACF,SAAS;QAAC2B,YAAY,EAAErB;MAAe;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CACN,EACAjB,UAAU,iBAAIN,OAAA;MAAAgB,QAAA,GAAI,GAAC,EAACV,UAAU;IAAA;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEjC,CAAC;AAEV;AAAClB,EAAA,CAlDQF,aAAa;AAAAuB,EAAA,GAAbvB,aAAa;AAoDtB,eAAeA,aAAa;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}