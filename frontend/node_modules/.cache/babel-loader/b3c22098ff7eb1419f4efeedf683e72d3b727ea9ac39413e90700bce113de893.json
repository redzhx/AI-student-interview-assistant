{"ast":null,"code":"var _jsxFileName = \"/Users/zxh/0.Me/Mylearn/AIcoding/mywork/interview-assistant-react_stroop/frontend/src/components/AnswerSection.jsx\",\n  _s = $RefreshSig$();\n// AnswerSection.jsx\nimport React, { useState } from 'react';\nimport AudioRecorder from './AudioRecorder';\nimport TextInput from './TextInput';\nimport { Button, Card } from 'react-bootstrap';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AnswerSection({\n  onAnswerSubmit,\n  disabled\n}) {\n  _s();\n  const [transcript, setTranscript] = useState(''); // 定义 transcript 状态\n  const [audioUrl, setAudioUrl] = useState(''); // 定义 audioUrl 状态\n\n  const [isRecording, setIsRecording] = useState(true);\n  const [showTextInput, setShowTextInput] = useState(false);\n  // const [answer, setAnswer] = useState(''); // 正确声明 answer 状态和 setAnswer 函数\n\n  // useEffect(() => {\n  //   // 重置相关状态\n  //   setTranscript('');\n  //   setAudioUrl('');\n  //   setAnswer('');\n  //   // 如果还有其他需要重置的状态，也放在这里\n  // }, [resetKey]);\n\n  const handleAudioTranscriptReady = (transcript, audioUrl) => {\n    //   setIsRecording(false); // 停止录音\n    setTranscript(transcript); // 设置转写文本\n    setAudioUrl(audioUrl); // 设置录音文件的 URL\n    onAnswerSubmit(transcript); // 提交答案进行评价\n  };\n  const toggleAnswerMode = () => {\n    setIsRecording(!isRecording);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"answerarea\",\n    className: \"container mt-4\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [transcript && !isRecording && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n            src: audioUrl,\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: transcript\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), isRecording ? /*#__PURE__*/_jsxDEV(AudioRecorder, {\n          onTranscriptReady: handleAudioTranscriptReady,\n          autoStart: isRecording\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"inputarea\",\n          children: /*#__PURE__*/_jsxDEV(TextInput, {\n            onTextSubmit: onAnswerSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mt-3\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: toggleAnswerMode,\n            disabled: disabled,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: isRecording ? \"fa-solid fa-keyboard\" : \"fa-solid fa-microphone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), isRecording ? ' 切换到文本' : ' 切换到语音']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this);\n}\n_s(AnswerSection, \"W2UVLUY9ZLsQ4Noaq63cSq9wdWg=\");\n_c = AnswerSection;\nexport default AnswerSection;\nvar _c;\n$RefreshReg$(_c, \"AnswerSection\");","map":{"version":3,"names":["React","useState","AudioRecorder","TextInput","Button","Card","jsxDEV","_jsxDEV","Fragment","_Fragment","AnswerSection","onAnswerSubmit","disabled","_s","transcript","setTranscript","audioUrl","setAudioUrl","isRecording","setIsRecording","showTextInput","setShowTextInput","handleAudioTranscriptReady","toggleAnswerMode","id","className","children","Body","src","controls","fileName","_jsxFileName","lineNumber","columnNumber","onTranscriptReady","autoStart","onTextSubmit","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/zxh/0.Me/Mylearn/AIcoding/mywork/interview-assistant-react_stroop/frontend/src/components/AnswerSection.jsx"],"sourcesContent":["// AnswerSection.jsx\nimport React, {  useState } from 'react';\nimport AudioRecorder from './AudioRecorder';\nimport TextInput from './TextInput';\nimport { Button,Card } from 'react-bootstrap';\nimport '../App.css';\n\nfunction AnswerSection({ onAnswerSubmit,disabled, }) {\n  const [transcript, setTranscript] = useState(''); // 定义 transcript 状态\n  const [audioUrl, setAudioUrl] = useState(''); // 定义 audioUrl 状态\n\n  const [isRecording, setIsRecording] = useState(true);\n  const [showTextInput, setShowTextInput] = useState(false);\n  // const [answer, setAnswer] = useState(''); // 正确声明 answer 状态和 setAnswer 函数\n\n\n  // useEffect(() => {\n  //   // 重置相关状态\n  //   setTranscript('');\n  //   setAudioUrl('');\n  //   setAnswer('');\n  //   // 如果还有其他需要重置的状态，也放在这里\n  // }, [resetKey]);\n\n\n    const handleAudioTranscriptReady = (transcript, audioUrl) => {\n    //   setIsRecording(false); // 停止录音\n      setTranscript(transcript); // 设置转写文本\n      setAudioUrl(audioUrl); // 设置录音文件的 URL\n      onAnswerSubmit(transcript); // 提交答案进行评价\n  };\n\n    const toggleAnswerMode = () => {\n        setIsRecording(!isRecording);\n    };\n\n\n    return (\n      <div id=\"answerarea\" className=\"container mt-4\">\n        <Card>\n          <Card.Body>\n            {transcript && !isRecording && (\n              <>\n                <audio src={audioUrl} controls />\n                <p>{transcript}</p>\n              </>\n            )}\n            {isRecording ? (\n              <AudioRecorder onTranscriptReady={handleAudioTranscriptReady} autoStart={isRecording} />\n            ) : (\n              <div id=\"inputarea\"><TextInput onTextSubmit={onAnswerSubmit} /></div>\n            )}\n            <div className=\"text-center mt-3\">\n              <Button variant=\"primary\" onClick={toggleAnswerMode} disabled={disabled}>\n                <i className={isRecording ? \"fa-solid fa-keyboard\" : \"fa-solid fa-microphone\"}></i>\n                {isRecording ? ' 切换到文本' : ' 切换到语音'}\n              </Button>\n            </div>\n          </Card.Body>\n        </Card>\n    </div>\n    );\n}\nexport default AnswerSection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}